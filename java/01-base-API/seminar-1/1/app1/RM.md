# Вычислить n-ое треугольного число(сумма чисел от 1 до n), n! (произведение чисел от 1 до n)#



Треугольное число
Материал из Википедии — свободной энциклопедии
Перейти к навигацииПерейти к поиску
Números triangulares.png
Треугольное число — один из классов фигурных многоугольных чисел, определяемый как число точек, которые могут быть расставлены в форме правильного треугольника. Как видно из рисунка, {\displaystyle n}n-е треугольное число {\displaystyle T_{n}}T_{n} — это сумма {\displaystyle n}n первых натуральных чисел:

{\displaystyle {\begin{aligned}T_{1}&=1&=&\ 1\\T_{2}&=1+2&=&\ 3\\T_{3}&=1+2+3&=&\ 6\\T_{4}&=1+2+3+4&=&\ 10\\\end{aligned}}}{\displaystyle {\begin{aligned}T_{1}&=1&=&\ 1\\T_{2}&=1+2&=&\ 3\\T_{3}&=1+2+3&=&\ 6\\T_{4}&=1+2+3+4&=&\ 10\\\end{aligned}}}
и т. д. Общая формула для {\displaystyle n}n-го по порядку треугольного числа:

{\displaystyle T_{n}={\frac {1}{2}}n(n+1),\;n=1,2,3\dots }{\displaystyle T_{n}={\frac {1}{2}}n(n+1),\;n=1,2,3\dots };
Последовательность треугольных чисел {\displaystyle T_{n}}T_{n} бесконечна. Она начинается так:

1, 3, 6, 10, 15, 21, 28, 36, 45, 55, 66, 78, 91, 105,120 … (последовательность A000217 в OEIS)
Часть источников начинает последовательность треугольных чисел с нуля, которому соответствует номер {\displaystyle n=0.}{\displaystyle n=0.}

Треугольные числа играют значительную роль в комбинаторике и теории чисел[⇨], они тесно связаны с многими другими классами целых чисел[⇨].


Содержание
1	Свойства
2	Критерий треугольности числа
3	Применение
4	Связь с другими классами чисел
5	Производящая функция
6	Вариации и обобщения
7	Примечания
8	Литература
9	Ссылки
Свойства
Рекуррентная формула для n-го треугольного числа[1]:

{\displaystyle T_{n}=T_{n-1}+n}{\displaystyle T_{n}=T_{n-1}+n}.

Разложение треугольного числа с нечётным номером.

Разложение треугольного числа с чётным номером
Следствия ({\displaystyle n>1}n>1)[2][3]:

{\displaystyle T_{n+1}=T_{n-1}+2n+1}{\displaystyle T_{n+1}=T_{n-1}+2n+1}.
{\displaystyle T_{n+1}+T_{n-1}=2T_{n}+1}{\displaystyle T_{n+1}+T_{n-1}=2T_{n}+1}.
{\displaystyle T_{2n-1}=3T_{n-1}+T_{n}}{\displaystyle T_{2n-1}=3T_{n-1}+T_{n}} (см. рисунок слева).
{\displaystyle T_{2n}=3T_{n}+T_{n-1}}{\displaystyle T_{2n}=3T_{n}+T_{n-1}}. (см. рисунок справа).
Ещё две формулы легко доказать по индукции[4]:

{\displaystyle T_{m+n}=T_{m}+T_{n}+mn}{\displaystyle T_{m+n}=T_{m}+T_{n}+mn}
{\displaystyle T_{mn}=T_{m}T_{n}+T_{m-1}T_{n-1}}{\displaystyle T_{mn}=T_{m}T_{n}+T_{m-1}T_{n-1}}
Все треугольные числа, кроме 1 и 3, составные. Никакое треугольное число не может в десятичной записи заканчиваться цифрой[2] {\displaystyle 2,4,7,9.}{\displaystyle 2,4,7,9.} Чётность элемента последовательности меняется с периодом 4: нечётное, нечётное, чётное, чётное.

Третья сбоку линия (диагональ) треугольника Паскаля состоит из треугольных чисел[5].

Сумма конечного ряда треугольных чисел вычисляется по одной из формул[6]:

{\displaystyle S_{m-1}=1+3+6+\dots +{\frac {(m-1)m}{2}}={\frac {m^{3}-m}{6}}}{\displaystyle S_{m-1}=1+3+6+\dots +{\frac {(m-1)m}{2}}={\frac {m^{3}-m}{6}}}
или:

{\displaystyle S_{m}=1+3+6+\dots +{\frac {m(m+1)}{2}}={\frac {m(m+1)(m+2)}{6}}}{\displaystyle S_{m}=1+3+6+\dots +{\frac {m(m+1)}{2}}={\frac {m(m+1)(m+2)}{6}}}
Ряд из чисел, обратных треугольным, сходится (см. Телескопический ряд):

{\displaystyle 1+{1 \over 3}+{1 \over 6}+{1 \over 10}+{1 \over 15}+\dots =2\sum _{n=1}^{\infty }\left({1 \over n}-{1 \over n+1}\right)=2}{\displaystyle 1+{1 \over 3}+{1 \over 6}+{1 \over 10}+{1 \over 15}+\dots =2\sum _{n=1}^{\infty }\left({1 \over n}-{1 \over n+1}\right)=2}

Восемь треугольных чисел и ещё одна точка образуют полный квадрат
Критерий треугольности числа
Натуральное число {\displaystyle x}x является треугольным тогда и только тогда, когда число {\displaystyle 8x+1}{\displaystyle 8x+1} является полным квадратом.

В самом деле, если {\displaystyle x}x треугольное, то {\displaystyle 8x+1=8{\frac {n(n+1)}{2}}+1=4n^{2}+4n+1=(2n+1)^{2}.}{\displaystyle 8x+1=8{\frac {n(n+1)}{2}}+1=4n^{2}+4n+1=(2n+1)^{2}.} Обратно, число {\displaystyle 8x+1}{\displaystyle 8x+1} нечётно, и если оно равно квадрату некоторого числа {\displaystyle a,}a, то {\displaystyle a}a тоже нечётно: {\displaystyle a=2n+1,}{\displaystyle a=2n+1,} и мы получаем равенство: {\displaystyle 8x+1=(2n+1)^{2}=4n^{2}+4n+1,}{\displaystyle 8x+1=(2n+1)^{2}=4n^{2}+4n+1,} откуда: {\displaystyle x={\frac {n(n+1)}{2}}}{\displaystyle x={\frac {n(n+1)}{2}}} — треугольное число ■.

Следствие: номер числа {\displaystyle x}x в последовательности треугольных чисел определяется формулой:

{\displaystyle n={\frac {{\sqrt {8x+1}}-1}{2}}.}{\displaystyle n={\frac {{\sqrt {8x+1}}-1}{2}}.}
Применение
См. также: A000217
Треугольные числа возникают во многих практических ситуациях.

Как биномиальный коэффициент {\displaystyle T_{n}=C_{n+1}^{2}}{\displaystyle T_{n}=C_{n+1}^{2}} число {\displaystyle T_{n}}T_{n} определяет число сочетаний для выбора двух элементов из {\displaystyle n+1}n+1 возможных.


Связи между объектами
Если {\displaystyle n}n объектов попарно соединить отрезками, то число отрезков (число рёбер полного графа) будет выражаться треугольным числом:

{\displaystyle T_{n-1}={\frac {n(n-1)}{2}}}{\displaystyle T_{n-1}={\frac {n(n-1)}{2}}}
Это видно из того, что каждый из {\displaystyle n}n объектов соединяется с остальными {\displaystyle n-1}n-1 объектами, так что получается {\displaystyle n(n-1)}{\displaystyle n(n-1)} соединений, однако при таком учёте каждое соединение засчитывается дважды (с двух разных концов), так что результат надо разделить пополам.

Аналогично максимальное количество рукопожатий для {\displaystyle n}n человек или количество шахматных партий в турнире с {\displaystyle n}n участниками равны {\displaystyle T_{n-1}.}{\displaystyle T_{n-1}.} Из тех же соображений можно заключить, что число диагоналей в выпуклом многоугольнике с {\displaystyle n}n сторонами (n>3) равно:

{\displaystyle T_{n-2}-1={\frac {n(n-3)}{2}}}{\displaystyle T_{n-2}-1={\frac {n(n-3)}{2}}}

Разбиения круга секущими
Максимальное количество {\displaystyle p}p кусков, которое можно получить с помощью {\displaystyle n}n прямых разрезов пиццы (см. рисунок справа), равно {\displaystyle T_{n}+1}{\displaystyle T_{n}+1} (см. Центральные многоугольные числа, последовательность A000124 в OEIS).


Тетраксис в христианской мистике {Якоб Бёме, XVII век)
Известное в мистике «число зверя» (666) является 36-м треугольным[7]. Оно является наименьшим треугольным числом, которое представимо в виде суммы квадратов треугольных чисел[8]: {\displaystyle 666=15^{2}+21^{2}.}{\displaystyle 666=15^{2}+21^{2}.}

Четвёртое треугольное число 10 (тетраксис) пифагорейцы считали священным, определяющим гармонию вселенной — в частности, соотношения музыкальных интервалов, смену времён года и движение планет[9].

Связь с другими классами чисел
Любое {\displaystyle k}k-угольное число {\displaystyle P_{n}^{(k)}\;(k\geqslant 3,n>1)}{\displaystyle P_{n}^{(k)}\;(k\geqslant 3,n>1)} может быть выражено через треугольные[10]:

{\displaystyle P_{n}^{(k)}=n+(k-2){\frac {n(n-1)}{2}}=(k-3)T_{n-1}+T_{n}}{\displaystyle P_{n}^{(k)}=n+(k-2){\frac {n(n-1)}{2}}=(k-3)T_{n-1}+T_{n}}
Сумма двух последовательных треугольных чисел — это квадратное число (полный квадрат), то есть[7]:

{\displaystyle T_{n-1}+T_{n}=n^{2}\;}{\displaystyle T_{n-1}+T_{n}=n^{2}\;} (формула Теона Смирнского[11].
Примеры:

6 + 10 = 16	Square number 16 as sum of two triangular numbers.svg		10 + 15 = 25	Square number 25 as sum of two triangular numbers.svg
Обобщением этой формулы является формула Никомаха — для любого {\displaystyle k\geqslant 3}k \geqslant 3 разность между {\displaystyle (k+1)}(k+1)-угольным и {\displaystyle k}k-угольным числами с одним и тем же номером есть треугольное число[12]:

{\displaystyle P_{n}^{(k+1)}-P_{n}^{(k)}=T_{n-1}}{\displaystyle P_{n}^{(k+1)}-P_{n}^{(k)}=T_{n-1}}
Предыдущая формула получается при {\displaystyle k=3.}{\displaystyle k=3.}

Существует единственная пифагорова тройка, состоящая из треугольных чисел[13]:

{\displaystyle \{T_{132},T_{143},T_{164}\}=\{8778,10296,13530\}.}{\displaystyle \{T_{132},T_{143},T_{164}\}=\{8778,10296,13530\}.}
Среди треугольных чисел существуют числа-палиндромы, то есть числа, которые одинаковы при чтении их слева направо и справа налево (последовательность A003098 в OEIS):

{\displaystyle 1,3,6,55,66,171,595,666,3003,5995,8778,\dots }{\displaystyle 1,3,6,55,66,171,595,666,3003,5995,8778,\dots }
Существует бесконечно много треугольных чисел, которые одновременно являются квадратными («квадратные треугольные числа»)[14][15]: {\displaystyle 1,36,1225,41616,1413721\dots }{\displaystyle 1,36,1225,41616,1413721\dots } (последовательность A001110 в OEIS).

Треугольное число может также быть одновременно

пятиугольным (последовательность A014979 в OEIS):
1, 210, 40755, 7906276, 1533776805, 297544793910, 57722156241751, 11197800766105800, 2172315626468283465…;
шестиугольным (все треугольные числа с нечётным номером);
семиугольным (последовательность A046194 в OEIS):
1, 21, 11781, 203841, 113123361, 1957283461, 1086210502741, 18793835590881, 10429793134197921, 180458407386358101…
и т. д. Неизвестно, существуют ли числа, одновременно треугольные, квадратные и пятиугольные; проверка на компьютере чисел, меньших {\displaystyle 10^{22166},}{\displaystyle 10^{22166},} не обнаружила ни одного подобного числа, однако не доказано, что таковых не существует[16].

Четыре треугольных числа {\displaystyle 1,3,15,4095}{\displaystyle 1,3,15,4095} являются одновременно числами Мерсенна (последовательность A076046 в OEIS) (см. уравнение Рамануджана — Нагеля).

Пять чисел {\displaystyle 1,10,120,1540,7140}{\displaystyle 1,10,120,1540,7140} (и только они) одновременно треугольные и тетраэдральные (последовательность A027568 в OEIS).

Четыре числа {\displaystyle 1,55,91,208335}{\displaystyle 1,55,91,208335} одновременно треугольные и квадратные пирамидальные (последовательность A039596 в OEIS).

Никакое натуральное число, кроме 1, не может быть одновременно[17][18]:

треугольным и кубическим;
треугольным и биквадратным[19];
треугольным и пятой степенью целого числа[17];
Каждое чётное совершенное число является треугольным[20].

Любое натуральное число представимо в виде суммы не более трёх треугольных чисел. Утверждение впервые сформулировал в 1638 году Пьер Ферма в письме к Мерсенну без доказательства, впервые доказано в 1796 году Гауссом[21].

Квадрат n-го треугольного числа является суммой кубов первых {\displaystyle n}n натуральных чисел[22]. Следствие: разность квадратов двух последовательных треугольных чисел дает кубическое число. Например, {\displaystyle 15^{2}-10^{2}=125=5^{3}.}{\displaystyle 15^{2}-10^{2}=125=5^{3}.}

Производящая функция
Степенной ряд, коэффициенты которого — треугольные числа, сходится при {\displaystyle |x|<1}|x|<1:

{\displaystyle {\frac {x}{(1-x)^{3}}}=T_{1}x+T_{2}x^{2}+T_{3}x^{3}+\dots +T_{n}x^{n}+\dots }{\displaystyle {\frac {x}{(1-x)^{3}}}=T_{1}x+T_{2}x^{2}+T_{3}x^{3}+\dots +T_{n}x^{n}+\dots }
Выражение слева является производящей функцией для последовательности треугольных чисел[23].

Вариации и обобщения
Вариацией треугольных чисел являются центрированные треугольные числа.

Понятие плоского треугольного числа можно обобщить на три и более измерений. Пространственным их аналогом служат тетраэдральные числа, а в произвольном {\displaystyle d}d-мерном пространстве можно определить гипертетраэдральные числа[24]:

{\displaystyle T_{n}^{[d]}={\frac {(n-1+d)!}{(n-1)!\ d!}}}{\displaystyle T_{n}^{[d]}={\frac {(n-1+d)!}{(n-1)!\ d!}}}
Их частным случаем выступают:

{\displaystyle T_{n}^{[2]}}{\displaystyle T_{n}^{[2]}} — треугольные числа.
{\displaystyle T_{n}^{[3]}}{\displaystyle T_{n}^{[3]}} — тетраэдральные числа.
{\displaystyle T_{n}^{[4]}}{\displaystyle T_{n}^{[4]}} — пентатопные числа.
Ещё одним обобщением треугольных чисел являются числа Стирлинга второго рода[25]:

{\displaystyle T_{n}=S(n+1,n)}{\displaystyle T_{n}=S(n+1,n)}